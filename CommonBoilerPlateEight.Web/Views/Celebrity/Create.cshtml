@model CelebrityCreateViewModel
@{
    ViewBag.ModuleName = _CommonLocalizer["Celebrity"];
    ViewBag.ModuleIcon = "user";
    var countries = ViewBag.Countries as List<CountryResponseViewModel> ?? new List<CountryResponseViewModel>();
    var celebrityTypes = ViewBag.CelebrityTypes as List<CelebrityTypeResponseModel> ?? new List<CelebrityTypeResponseModel>();
    var genders = EnumExtensions.ToDropdownList<GenderTypeEnum>();
}


<div class="row card">
    <div class="col-md-12 card-body">
        <form asp-action="Create" asp-controller="Celebrity" method="post" class="forms-celebrity" enctype="multipart/form-data">
            <div class="row">
                <ul class="nav nav-tabs nav-tabs-line" id="lineTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="basic-tab" data-bs-toggle="tab" href="#basic" role="tab" aria-controls="basic" aria-selected="true">@_CommonLocalizer["BD"]</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="social-tab" data-bs-toggle="tab" href="#social" role="tab" aria-controls="social" aria-selected="false">@_CommonLocalizer["Socials"]</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="attachment-tab" data-bs-toggle="tab" href="#attachment" role="tab" aria-controls="attachment" aria-selected="false">@_CommonLocalizer["Attachments"]</a>
                    </li>
                </ul>
                <div class="tab-content mt-3" id="lineTabContent">
                    <div class="tab-pane fade show active" id="basic" role="tabpanel" aria-labelledby="basic-tab">
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["Image"]</label>
                            <div class="col-sm-9">
                                <div class="d-flex align-items-center">
                                    <img class="img-lg" src="/images/others/placeholder.jpg" alt="" id="profileImage" style="width: 150px; height: 150px; object-fit: cover; border: 1px solid #ccc;">
                                </div>
                                <input type="file" class="form-control mt-1" data-image-container="profileImage" asp-for="ProfileImageFile" accept=".jpg, .jpeg, .png" onchange="previewImage(event)">
                                <span asp-validation-for="ProfileImageFile" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["FullName"]</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" asp-for="FullName" placeholder="@_CommonLocalizer["FullName"]">
                                <span asp-validation-for="FullName" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["Email"]</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" asp-for="Email" placeholder="@_CommonLocalizer["Email"]">
                                <span asp-validation-for="Email" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["Gender"]</label>
                            <div class="col-sm-9">
                                @Html.DropDownListFor(a => a.Gender, new SelectList(genders, "Text", "Value"), "", new { @class = "form-control select2Input" })
                                <span asp-validation-for="Gender" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["Type"]</label>
                            <div class="col-sm-9">
                                @Html.DropDownListFor(a => a.CelebrityTypeId, new SelectList(celebrityTypes, "Id", "Name"), "", new { @class = "form-control select2Input" })
                                <span asp-validation-for="CelebrityTypeId" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="exampleInputMobile" class="col-sm-3 col-form-label">@_CommonLocalizer["Mobile"]</label>
                            <div class="col-sm-3">
                                <select asp-for="CountryId" class="select-with-flags" style="width: 100%;">
                                    @foreach (var country in countries)
                                    {
                                        <option value="@country.Id" data-flag="@country.Code.ToLower()" data-dial-code="@country.DialCode" data-country="@country.Name">
                                            @country.DialCode
                                        </option>
                                    }
                                </select>
                            </div>
                            <div class="col-sm-6">
                                <input type="number" class="form-control" asp-for="MobileNumber" placeholder="@_CommonLocalizer["Mobile"]">
                                <span asp-validation-for="MobileNumber" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["TimeToCall"]</label>
                            <div class="col-sm-9">
                                <div class="input-group">
                                    <input type="text" asp-for="TimeToCall" class="form-control datetime-picker" placeholder="@_CommonLocalizer["Select"]" data-input data-type="datetime" data-show="future">
                                    <span class="input-group-text input-group-addon" data-toggle><i data-feather="calendar"></i></span>
                                </div>

                                <span asp-validation-for="TimeToCall" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["Price/Post"]</label>
                            <div class="col-sm-9">
                                <input type="number" class="form-control" asp-for="PricePerPost" placeholder="@_CommonLocalizer["Price/Post"]">
                                <span asp-validation-for="PricePerPost" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["Price/Event"]</label>
                            <div class="col-sm-9">
                                <input type="number" class="form-control" asp-for="PricePerEvent" placeholder="@_CommonLocalizer["Price/Event"]">
                                <span asp-validation-for="PricePerEvent" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["Price/Delivery"]</label>
                            <div class="col-sm-9">
                                <input type="number" class="form-control" asp-for="PricePerDelivery" placeholder="@_CommonLocalizer["Price/Delivery"]">
                                <span asp-validation-for="PricePerDelivery" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["PriceRange"]</label>
                            <div class="col-sm-9">
                                <input type="text" id="priceRange" class="form-control disablePointerEvents" placeholder="@_CommonLocalizer["PriceRange"]">

                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["Password"]</label>
                            <div class="col-sm-9">
                                <input type="password" autocomplete="new-password" class="form-control" asp-for="Password" placeholder="@_CommonLocalizer["Password"]">
                                <span asp-validation-for="Password" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["ConfirmPassword"]</label>
                            <div class="col-sm-9">
                                <input type="password" autocomplete="new-password" class="form-control" asp-for="ConfirmPassword" placeholder="@_CommonLocalizer["ConfirmPassword"]">
                                <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["Description"]</label>
                            <div class="col-sm-9">
                                <textarea autocomplete="off" class="form-control" asp-for="Description" placeholder="@_CommonLocalizer["Description"]"> </textarea>
                                <span asp-validation-for="Description" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="social" role="tabpanel" aria-labelledby="social-tab">
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["FbLink"]</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" asp-for="FacebookLink" placeholder="@_CommonLocalizer["FbLink"]">
                                <span asp-validation-for="FacebookLink" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["InstLink"]</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" asp-for="InstagramLink" placeholder="@_CommonLocalizer["InstLink"]">
                                <span asp-validation-for="InstagramLink" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["SCLink"]</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" asp-for="SnapchatLink" placeholder="@_CommonLocalizer["SCLink"]">
                                <span asp-validation-for="SnapchatLink" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["TwitLink"]</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" asp-for="TwitterLink" placeholder="@_CommonLocalizer["TwitLink"]">
                                <span asp-validation-for="TwitterLink" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["ThreadsLink"]</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" asp-for="ThreadsLink" placeholder="@_CommonLocalizer["ThreadsLink"]">
                                <span asp-validation-for="ThreadsLink" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["YTLink"]</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" asp-for="YoutubeLink" placeholder="@_CommonLocalizer["YTLink"]">
                                <span asp-validation-for="YoutubeLink" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="attachment" role="tabpanel" aria-labelledby="attachment-tab">
                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["CivId"]</label>
                            <div class="col-sm-9">
                                <div class="d-flex align-items-center">
                                    <img class="img-lg previewImage" src="/images/others/placeholder.jpg" alt="Civil Id" id="civilId" style="width: 150px; height: 150px; object-fit: cover; border: 1px solid #ccc;">
                                </div>
                                <input type="file" class="form-control mt-1" data-image-container="civilId" asp-for="CivilIdFile" accept=".jpg, .jpeg, .png" onchange="previewImage(event)">
                                <span asp-validation-for="CivilIdFile" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label class="col-sm-3 col-form-label">@_CommonLocalizer["Contract"]</label>
                            <div class="col-sm-9">
                                <div class="d-flex align-items-center">
                                    <img class="img-lg" src="/images/others/placeholder.jpg" alt="" id="contract" style="width: 150px; height: 150px; object-fit: cover; border: 1px solid #ccc;">
                                </div>
                                <input type="file" class="form-control mt-1" data-image-container="contract" asp-for="ContractFile" accept=".jpg, .jpeg, .png" onchange="previewImage(event)">
                                <span asp-validation-for="ContractFile" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Save button common outside the tabs -->
            <div class="mt-3">
                <button type="submit" class="btn btn-primary">@_CommonLocalizer["SaveBtn"]</button>
            </div>
        </form>

    </div>
</div>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $(document).ready(function () {

        const $pricePerPostInput = $('input[name="PricePerPost"]');
        const $pricePerEventInput = $('input[name="PricePerEvent"]');
        const $pricePerDeliveryInput = $('input[name="PricePerDelivery"]');
        const $priceRangeInput = $('#priceRange');
        function calculatePriceRange() {
            const pricePerPost = parseFloat($pricePerPostInput.val());
            const pricePerEvent = parseFloat($pricePerEventInput.val());
            const pricePerDelivery = parseFloat($pricePerDeliveryInput.val());


            if (!isNaN(pricePerPost) && !isNaN(pricePerEvent) && !isNaN(pricePerDelivery)) {

                const prices = [pricePerPost, pricePerEvent, pricePerDelivery].sort((a, b) => a - b);

                $priceRangeInput.val(`${prices[0]} - ${prices[2]}`);
            } else {
                $priceRangeInput.val(''); 
            }
        }

        $pricePerPostInput.on('input', calculatePriceRange);
        $pricePerEventInput.on('input', calculatePriceRange);
        $pricePerDeliveryInput.on('input', calculatePriceRange);
    });
</script>


